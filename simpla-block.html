<html><head><meta charset="UTF-8"><link rel="import" href="../simpla-core/simpla-core.html"><link rel="import" href="../polymer/polymer.html"></head><body><div hidden="" by-vulcanize=""><script>!function(){"use strict";var e={};e.classCallCheck=function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")},e.createClass=function(){function e(e,a){for(var i=0;i<a.length;i++){var n=a[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(a,i,n){return i&&e(a.prototype,i),n&&e(a,n),a}}(),window.simpla=window.simpla||{},window.simpla.behaviors=window.simpla.behaviors||{};var a={properties:{sid:{type:String,value:""},namespace:{value:null,observer:"joinNamespace"}},observers:["_updateUid(namespace, sid)"],attached:function(){this.updateNamespace()},joinNamespace:function(e,a){var i=this;this._namespaceListener||(this._namespaceListener=function(e){var a=e.detail.value;i._changeUid(i._computeUid(a,i.sid))}),e&&(e.addElement(this),e.addEventListener("uid-changed",this._namespaceListener)),a&&(a.removeElement(this),a.removeEventListener("uid-changed",this._namespaceListener))},_changeUid:function(e){this._setUid?this._setUid(e):this.uid=e},_computeUid:function(e,a){var i=a.replace(".","\\.");return e?e+"."+i:i},_updateUid:function(e,a){var i=e?e.uid:"",n=this._computeUid(i,a);this._changeUid(n)},updateNamespace:function(){for(var e=this,a=!1;!a&&(e=e.parentElement);)a=!!e._smNamespace;this.namespace=e&&a?e._smNamespace:null}};window.simpla.behaviors.blockNamespaceChild=a}();</script><dom-module id="sm-block-namespace" assetpath="../sm-block-namespace/"> <script>!function(){"use strict";var e={};e.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var t=function(){function t(){e.classCallCheck(this,t)}return e.createClass(t,[{key:"beforeRegister",value:function(){this.is="sm-block-namespace",this.properties={block:{value:null,observer:"_blockObserver"},elements:{type:Array,value:[]},uid:{type:String,value:"",notify:!0}},this.observers=["refreshElements(block)"]}},{key:"addElement",value:function(e){this.push("elements",e)}},{key:"removeElement",value:function(e){var t=this.elements.indexOf(e);-1!==t&&this.splice("elements",t,1)}},{key:"_blockObserver",value:function(e,t){e&&(e._smNamespace=this),t&&t._smNamespace===this&&delete t._smNamespace}},{key:"refreshElements",value:function(e){if(e)for(var t=void 0,n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:function(e){return e._smNamespace?NodeFilter.FILTER_REJECT:e.joinNamespace?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});n.nextNode()&&(t=n.currentNode);)t.namespace=this}}]),t}();Polymer(t)}();</script></dom-module></div><dom-module id="simpla-block"> <template> <sm-block-namespace uid="[[uid]]" block="[[self]]"></sm-block-namespace> <content></content> </template> <script>!function(){"use strict";var e={};e.classCallCheck=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},e.createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}();var n=function(){function n(){e.classCallCheck(this,n)}return e.createClass(n,[{key:"beforeRegister",value:function(){this.is="simpla-block",this.properties={self:{value:null}}}},{key:"ready",value:function(){this.self=this}},{key:"behaviors",get:function(){return[simpla.behaviors.blockNamespaceChild]}}]),n}();Polymer(n)}();</script></dom-module></body></html>