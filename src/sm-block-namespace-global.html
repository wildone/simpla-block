<script>
  // Don't override
  window.simpla = window.simpla || {};
  window.simpla.behaviors = window.simpla.behaviors || {};

  /**
   * A behavior for elements to make their data global
   * @type {Object}
   */
  const blockNamespaceGlobal = {
    properties: {
      gid: String
    },

    observers: [
      '_updateUidFromGid(gid)'
    ],

    _updateUidFromGid(gid) {
      if (gid && this.sid) {
        console.warn('The gid and sid attributes should not be used simultaneously, gid being used.');
      }

      if (gid && gid.indexOf('.') !== -1) {
        console.error('GID\'s must not contain \'.\'. This element will not save or fetch data.');
        return;
      }

      this._changeUid(gid);
    }
  };

  window.simpla.behaviors.blockNamespaceGlobal = blockNamespaceGlobal;
</script>
