<link rel="import" href="./sm-block-namespace-global.html"> <script>!function(){"use strict";var e={};e.classCallCheck=function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")},e.createClass=function(){function e(e,i){for(var a=0;a<i.length;a++){var n=i[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(i,a,n){return a&&e(i.prototype,a),n&&e(i,n),i}}(),window.simpla=window.simpla||{},window.simpla.behaviors=window.simpla.behaviors||{};var i={properties:{sid:{type:String,value:""},namespace:{value:null,observer:"joinNamespace"}},observers:["_updateUid(namespace, sid, global)"],attached:function(){this.updateNamespace()},joinNamespace:function(e,i){var a=this;this._namespaceListener||(this._namespaceListener=function(e){var i=e.detail.value;i?a._changeUid(a._computeUid(i,a.sid)):a._changeUid(void 0)}),e&&(e.addElement(this),e.addEventListener("uid-changed",this._namespaceListener)),i&&(i.removeElement(this),i.removeEventListener("uid-changed",this._namespaceListener))},_changeUid:function(e){this._setUid?this._setUid(e):this.uid=e},_computeUid:function(e,i){var a=i.replace(".","\\.");return e?e+"."+a:a},_updateUid:function(e,i,a){if(e&&e.uid||a){var n=void 0,t=void 0;n=a?void 0:e?e.uid:"",t=this._computeUid(n,i),this._changeUid(t)}else this._changeUid(void 0)},updateNamespace:function(){for(var e=this,i=!1;!i&&(e=e.parentElement);)i=!!e._smNamespace;this.namespace=e&&i?e._smNamespace:null}};window.simpla.behaviors.blockNamespaceChild=[i,window.simpla.behaviors.blockNamespaceGlobal]}();</script>