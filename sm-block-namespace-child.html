<link rel="import" href="./sm-block-namespace-global.html"> <script>!function(){"use strict";function e(e){return"undefined"!=typeof e}var i={};i.classCallCheck=function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")},i.createClass=function(){function e(e,i){for(var a=0;a<i.length;a++){var n=i[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(i,a,n){return a&&e(i.prototype,a),n&&e(i,n),i}}(),window.simpla=window.simpla||{},window.simpla.behaviors=window.simpla.behaviors||{};var a={properties:{sid:String,namespace:{value:null,observer:"joinNamespace"}},observers:["_updateUid(namespace, sid, global)"],attached:function(){this.updateNamespace()},joinNamespace:function(i,a){var n=this;this._namespaceListener||(this._namespaceListener=function(i){var a=i.detail.value;e(a)?n._changeUid(n._computeUid(a,n.sid)):n._changeUid(void 0)}),i&&(i.addElement(this),i.addEventListener("uid-changed",this._namespaceListener)),a&&(a.removeElement(this),a.removeEventListener("uid-changed",this._namespaceListener))},_changeUid:function(e){this._setUid?this._setUid(e):this.uid=e},_computeUid:function(e,i){var a=i.replace(".","\\.");return e?e+"."+a:a},_updateUid:function(i,a,n){if(i&&e(i.uid)||n){var t=void 0,s=void 0;t=n?void 0:i?i.uid:"",s=this._computeUid(t,a),this._changeUid(s)}else this._changeUid(void 0)},updateNamespace:function(){for(var e=this,i=!1;!i&&(e=e.parentElement);)i=!!e._smNamespace;this.namespace=e&&i?e._smNamespace:null}};window.simpla.behaviors.blockNamespaceChild=[a,window.simpla.behaviors.blockNamespaceGlobal]}()</script>